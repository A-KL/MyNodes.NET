@using System.Threading.Tasks
@using MyNetSensors.Gateways
@model List<SensorData>

@{
    ViewBag.Title = ViewBag.description + " History";
}


<div class="ui container">

    <a asp-action="Chart" asp-route-id="@ViewBag.nodeId" asp-route-id2="@ViewBag.sensorId" class="ui button right floated">Show Chart</a>

    <h2>@ViewBag.Title</h2>

    <p>
        < <a asp-controller="Gateway" asp-action="Control">Control Nodes</a>
        < <a asp-controller="History" asp-action="List">History</a>
    </p>
    <div class="ui divider"></div>







    @if (Model == null)
            {
        @:There are no entries in history. Check node <a href="../../../Node/Settings/@ViewBag.nodeId">settings</a>








            }
            else
            {
        <table class="ui striped table">
            <thead>
                <tr>
                    <th scope="col">
                        Date
                    </th>
                    <th scope="col">
                        State
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (SensorData item in Model)
                {
                    <tr>
                        <td>@item.dateTime</td>
                        <td>@item.state</td>
                    </tr>
                }
            </tbody>
            <tfoot>
            <tr>

                <th colspan="3">
                    @*todo <div class="ui pagination menu">
                        <a class="icon item">
                            <i class="left chevron icon"></i>
                        </a>
                        <a class="item">1</a>
                        <a class="item">2</a>
                        <a class="item">3</a>
                        <a class="item">4</a>
                        <a class="icon item">
                            <i class="right chevron icon"></i>
                        </a>
                    </div>*@

                    <a class='ui right floated button' href='../../ClearHistory/@ViewBag.nodeId/@ViewBag.sensorId'>
                        Clear History
                    </a>
                </th>


            </tr>
            </tfoot>
        </table>


    }
</div>

<br/>